{"version":3,"sources":["app/scripts.babel/contentscript.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;;;;;;;;;IAWP,WAAW;AACJ,WADP,WAAW,GACD;;;0BADV,WAAW;;;AAGb,QAAI,CAAC,kBAAkB,GAAG,CAAC,CAAC;AAC5B,QAAI,CAAC,cAAc,GAAG,EAAE,CAAC;;;AAGzB,QAAI,CAAC,gBAAgB,GAAG,CAAC,UAAU,CAAC,CAAC;;;AAIrC,UAAM,CAAC,OAAO,CAAC,WAAW,CAAC,EAAC,OAAO,EAAE,QAAQ,EAAC,EAAE,UAAC,QAAQ,EAAK;AAC5D,aAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;AACpC,aAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACtB,UAAG,QAAQ,IAAI,QAAQ,CAAC,gBAAgB,EAAE;AACxC,cAAK,gBAAgB,GAAG,QAAQ,CAAC,gBAAgB,CAAC;OACnD;KACF,CAAC,CAAC;;AAEH,UAAM,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,CAChC,UAAC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAK;AACjC,aAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;AACjC,UAAI,OAAO,CAAC,gBAAgB,EAAE;AAC5B,eAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;AACjC,cAAK,gBAAgB,GAAG,OAAO,CAAC,gBAAgB,CAAC;AACjD,cAAK,iBAAiB,EAAE,CAAC;AACzB,oBAAY,CAAC,EAAC,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,MAAK,gBAAgB,EAAC,CAAC,CAAC;OAClE;KACF,CAAC,CAAC;;AAEP,QAAI,CAAC,iBAAiB,EAAE,CAAC;GAC1B;;eA/BG,WAAW;;WAiCE,6BAAG;;;AAClB,UAAI,MAAM,GAAG,QAAQ,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC;AACtD,QAAE,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,UAAC,KAAK,EAAK;AACjC,YAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;;;AAGlD,eAAK,gBAAgB,CAAC,OAAO,CAAC,UAAC,IAAI,EAAK;AACtC,cAAI,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,EAAE;AAC/C,mBAAK,SAAS,CAAC,KAAK,CAAC,CAAC;WACvB;SACF,CAAC,CAAC;OACJ,CAAC,CAAC;KACJ;;;WAGkB,6BAAC,KAAK,EAAE;AACzB,aAAO,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,UAAU,CAAC;KAC/C;;;WAEQ,mBAAC,KAAK,EAAE;;AAEf,UAAI,cAAc,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,CAAC;AACrD,UAAI,UAAU,GAAG,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;AAErD,UAAI,gBAAgB,GAAG,UAAU,GAAG,eAAe,CAAC;;AAEpD,oBAAc,CAAC,SAAS,GAAG,gBAAgB,CAAC;KAC7C;;;WAEa,0BAAG,EAEhB;;;SAhEG,WAAW;;;AAsEjB,IAAI,IAAI,GAAG,IAAI,WAAW,EAAE,CAAC;AAC7B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC","file":"app/scripts.babel/contentscript.js","sourcesContent":["'use strict';\n\n// Watch Tweet Bar event for checking when the View More Tweets button is\n// clicked.\n\n\n//var moreTweetsBar = document.querySelectorAll('.new-tweets-bar')[0];\n\n// Globals for banned words? Load from a JavaScript object/setting/localStorage\n// in the future.\n\nclass TwitterPage {\n  constructor() {\n    // Initialize list of banned words\n    this.numberHiddenTweets = 0;\n    this.matchingTweets = [];\n    // TO-DO: Move this to its own module for the Blacklist, rather than keeping\n    // it in popup, mmkay? Create Blacklist Module.\n    this.blacklistedWords = ['LinkedIn'];\n\n\n    // Tab send info on load.\n    chrome.runtime.sendMessage({command: 'update'}, (response) => {\n      console.log('Asking for an update');\n      console.log(response);\n      if(response && response.blackListedWords) {  \n        this.blacklistedWords = response.blackListedWords;\n      }\n    }); \n\n    chrome.runtime.onMessage.addListener(\n        (request, sender, sendResponse) => {\n          console.log('Message received!');\n          if (request.blacklistedWords) {\n            console.log('Updated response!');\n            this.blacklistedWords = request.blacklistedWords;\n            this.getMatchingTweets();\n            sendResponse({status: 'Updated!', words: this.blacklistedWords});\n          }\n        });\n\n    this.getMatchingTweets();\n  }\n\n  getMatchingTweets() {\n    var tweets = document.querySelectorAll('.tweet-text');\n    [].forEach.call(tweets, (tweet) => {\n      var textContent = tweet.textContent.toLowerCase(); // Lowercase everything.\n      // Hardcoded problems to test against my own timeline, will be updated in the\n      // future.\n      this.blacklistedWords.forEach((word) => {\n        if (textContent.indexOf(word.toLowerCase()) > 0) {\n          this.hideTweet(tweet);\n        }\n      });\n    });\n  }\n\n\n  fetchTweetContainer(tweet) {\n    return tweet.parentNode.parentNode.parentNode; // it takes three traversals to get the entire tweet container\n  }\n\n  hideTweet(tweet) {\n    // Text Content Tweet.\n    var tweetContainer = this.fetchTweetContainer(tweet);\n    var tweetClass = tweetContainer.className.trim('\\n');\n\n    var hiddenTweetClass = tweetClass + ' hide-element';\n\n    tweetContainer.className = hiddenTweetClass; \n  }\n\n  loadMoreTweets() {\n\n  }\n\n\n\n}\n\nlet page = new TwitterPage();\nconsole.log(page);\n"]}
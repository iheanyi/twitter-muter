{"version":3,"sources":["../scripts.babel/contentscript.js"],"names":[],"mappings":";;;;;;;;;;;;AAWA,CAAC,YAAW;AACV,MAAI,gBAAgB,GAAG,CAAC,UAAU,CAAC,CAAC;AACpC,MAAI,cAAc,GAAG,EAAE,CAAC;;AAExB,WAAS,UAAU,GAAG;AACpB,qBAAiB,EAAE,CAAC;GACrB;;AAED,WAAS,kBAAkB,GAAG;AAC5B,QAAI,GAAG,GAAG,EAAE,CAAC;AACb,WAAO,CAAC,GAAG,CAAC,gBAAgB,CAAC,CAAC;AAC9B,oBAAgB,CAAC,OAAO,CAAC,UAAS,IAAI,EAAE;AACtC,SAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;KAClB,CAAC,CAAC;;AAEH,WAAO,GAAG,CAAC;GACZ;;;AAID,WAAS,iBAAiB,GAAG;AAC3B,QAAI,MAAM,GAAG,QAAQ,CAAC,gBAAgB,CAAC,aAAa,CAAC,CAAC;AACtD,MAAE,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,EAAE,UAAC,KAAK,EAAK;AACjC,UAAI,WAAW,GAAG,KAAK,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;;;AAGlD,sBAAgB,CAAC,OAAO,CAAC,UAAC,IAAI,EAAK;AACjC,YAAI,WAAW,CAAC,OAAO,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,GAAG,CAAC,EAAE;AAC/C,mBAAS,CAAC,KAAK,CAAC,CAAC;SAClB;OACF,CAAC,CAAC;KACJ,CAAC,CAAC;GACJ;;AAED,WAAS,mBAAmB,CAAC,KAAK,EAAE;AAClC,WAAO,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,UAAU,CAAC;GAC/C;;AAED,WAAS,SAAS,CAAC,KAAK,EAAE;;AAExB,QAAI,cAAc,GAAG,mBAAmB,CAAC,KAAK,CAAC,CAAC;AAChD,QAAI,UAAU,GAAG,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACrD,QAAI,gBAAgB,GAAG,UAAU,GAAG,eAAe,CAAC;;AAEpD,kBAAc,CAAC,SAAS,GAAG,gBAAgB,CAAC;GAC7C;;AAGD,MAAI,kBAAkB,GAAG,CAAC,CAAC;AAC3B,MAAI,cAAc,GAAG,EAAE,CAAC;;;;;;AAOxB,QAAM,CAAC,OAAO,CAAC,WAAW,CAAC,EAAC,OAAO,EAAE,QAAQ,EAAC,EAAE,UAAC,QAAQ,EAAK;AAC5D,WAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;AACpC,WAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AACtB,QAAG,QAAQ,IAAI,QAAQ,CAAC,gBAAgB,EAAE;AACxC,sBAAgB,GAAG,QAAQ,CAAC,gBAAgB,CAAC;KAC9C;GACF,CAAC,CAAC;;AAEH,QAAM,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,CAClC,UAAC,OAAO,EAAE,MAAM,EAAE,YAAY,EAAK;AACjC,WAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;AACjC,QAAI,OAAO,CAAC,gBAAgB,EAAE;AAC5B,aAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;AACjC,sBAAgB,GAAG,OAAO,CAAC,gBAAgB,CAAC;AAC5C,uBAAiB,EAAE,CAAC;AACpB,kBAAY,CAAC,EAAC,MAAM,EAAE,UAAU,EAAE,KAAK,EAAE,gBAAgB,EAAC,CAAC,CAAC;KAC7D;GACF,CAAC,CAAC;;AAEH,YAAU,EAAE,CAAC;CAChB,CAAA,EAAG,CAAC","file":"contentscript.js","sourcesContent":["//'use strict';\n\n// Watch Tweet Bar event for checking when the View More Tweets button is\n// clicked.\n\n\n//var moreTweetsBar = document.querySelectorAll('.new-tweets-bar')[0];\n\n// Globals for banned words? Load from a JavaScript object/setting/localStorage\n// in the future.\n\n(function() {\n  let blacklistedWords = ['LinkedIn'];\n  let blacklistedMap = {};\n\n  function initialize() {\n    getMatchingTweets();\n  }\n\n  function createBlackListMap() {\n    var map = {};\n    console.log(blacklistedWords);\n    blacklistedWords.forEach(function(word) {\n      map[word] = true;\n    }); \n\n    return map;\n  }\n\n\n  // Initialize list of banned words\n  function getMatchingTweets() {\n    var tweets = document.querySelectorAll('.tweet-text');\n    [].forEach.call(tweets, (tweet) => {\n      var textContent = tweet.textContent.toLowerCase(); // Lowercase everything.\n      // Hardcoded problems to test against my own timeline, will be updated in the\n      // future.\n      blacklistedWords.forEach((word) => {\n        if (textContent.indexOf(word.toLowerCase()) > 0) {\n          hideTweet(tweet);\n        }\n      });\n    });\n  }\n\n  function fetchTweetContainer(tweet) {\n    return tweet.parentNode.parentNode.parentNode; // it takes three traversals to get the entire tweet container\n  }\n\n  function hideTweet(tweet) {\n    // Text Content Tweet.\n    let tweetContainer = fetchTweetContainer(tweet);\n    let tweetClass = tweetContainer.className.trim('\\n');\n    let hiddenTweetClass = tweetClass + ' hide-element';\n\n    tweetContainer.className = hiddenTweetClass; \n  }\n\n\n  let numberHiddenTweets = 0;\n  let matchingTweets = [];\n\n  // TO-DO: Move this to its own module for the Blacklist, rather than keeping\n  // it in popup, mmkay? Create Blacklist Module.\n\n\n  // Tab send info on load.\n  chrome.runtime.sendMessage({command: 'update'}, (response) => {\n    console.log('Asking for an update');\n    console.log(response);\n    if(response && response.blackListedWords) {  \n      blacklistedWords = response.blackListedWords;\n    }\n  }); \n\n  chrome.runtime.onMessage.addListener(\n    (request, sender, sendResponse) => {\n      console.log('Message received!');\n      if (request.blacklistedWords) {\n        console.log('Updated response!');\n        blacklistedWords = request.blacklistedWords;\n        getMatchingTweets();\n        sendResponse({status: 'Updated!', words: blacklistedWords});\n      }\n    });\n\n    initialize();\n})();\n"]}